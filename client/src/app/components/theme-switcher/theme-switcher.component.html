<div class="relative inline-block text-left">
  <button
    (click)="toggleDropdown()"
    class="inline-flex items-center justify-center px-3 py-2 rounded-lg text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-1"
    [style.background-color]="'var(--primary-light)'"
    [style.color]="'var(--primary)'"
    [style.border]="'2px solid var(--border)'"
  >
    <i class="fas fa-palette mr-2"></i>
    <span>{{ currentTheme.name }}</span>
    <i class="fas fa-chevron-down ml-2 text-xs"></i>
  </button>

  <!-- Dropdown Menu -->
  <div
    *ngIf="isOpen"
    class="absolute right-0 mt-2 w-56 rounded-lg shadow-lg z-50 border-2"
    [style.background-color]="'var(--card-bg)'"
    [style.border-color]="'var(--border)'"
  >
    <div class="py-1">
      <button
        *ngFor="let theme of availableThemes"
        (click)="selectTheme(theme.id)"
        class="w-full text-left px-4 py-2 text-sm transition-all flex items-center justify-between"
        [style.background-color]="currentTheme.id === theme.id ? 'var(--primary-light)' : 'transparent'"
        [style.color]="'var(--text-primary)'"
      >
        <span>{{ theme.name }}</span>
        <i *ngIf="currentTheme.id === theme.id" class="fas fa-check" [style.color]="'var(--primary)'"></i>
      </button>
    </div>
  </div>
</div>

<!-- Backdrop to close dropdown -->
<div
  *ngIf="isOpen"
  (click)="closeDropdown()"
  class="fixed inset-0 z-40"
></div>

